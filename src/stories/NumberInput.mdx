import { Meta, ArgTypes, Canvas } from '@storybook/addon-docs'
import AInput from '../components/internal/Input.vue'

import * as NumberInputStories from './NumberInput.stories'

<Meta of={NumberInputStories} />

# Number Input

```html
<a-number-input v-model="value" />
```

`ANumberInput` is a wrapper around the HTML `<input>` element with all the native functionality.
Its props and styles are consistent with other inputs in our design system.

<ArgTypes of={AInput} />

<ArgTypes of={NumberInputStories} />

## Labelling the input

All inputs should be accessibly labelled.
It is important for the users who rely on assistive technologies,
and it can be very helpful for testing your code.

Our recommended way of associating a label with the input is with the `<a-input-group>` component,
and all the following stories use it.

```html
<a-input-group :label="story" size="sm" helper="Some message" :invalid="!isValid">
  <template #input="{labelledby, describedby}">
    <ANumberInput
      v-model="inputValue"
      :aria-labelledby="labelledby"
      :aria-describedby="describedby" />
  </template>
</a-input-group>
```

For more details, follow the [InputGroup documentation](path=/docs/components-inputgroup--label).

## Size and variants

```html
<a-number-input v-model="value" size="md" />
<a-number-input v-model="value" variant="subtle" />
```

`<a-input-group>` follows the same sizing scale and variant options as our other input components.

<Canvas of={NumberInputStories.SizeSm} />
<Canvas of={NumberInputStories.SizeMd} />
<Canvas of={NumberInputStories.Subtle} />

## Invalid state

```html
<a-number-input v-model="value" :invalid="!isInputValid" />
```

When the input is in an invalid state, set the `invalid` prop to `true`.
It is recommended to also display an error message.

<Canvas of={NumberInputStories.Invalid} />

## Custom placeholder

```html
<a-number-input v-model="value" placeholder="custom placeholder" />
```

No placeholder is shown by default, except for the `subtle` variant.
To provide a custom placeholder, use the `placeholder` prop.

<Canvas of={NumberInputStories.CustomPlaceholder} />

## Input Steppers

While the appearance of the input steppers is customized, the functionality remains the same.
To change the input's step value, provide the `step` attribute.
In addition, `big-step` and `small-step` props can be provided to change the input value by
larger or smaller increments while holding `Shift` of `Shift + Alt` correspondingly.

```html
<a-number-input v-model="value" step="0.5" />
```

<Canvas of={NumberInputStories.StepUp} />

## Listening to value updates

There are several events available which indicate that the value has changed:

- `@update:model-value` is emitted each time the model value updates,
  both when the value is inputted directly, or changed with input stepping functions
- `@update:by-step` is emitted when a user changes the input value by using stepper buttons or arrow up/down keys
- the native `@change` event is emitted as usual after the input loses focus.
